# Go Agent å­¦ä¹ æŒ‡å—

## ğŸ¯ å­¦ä¹ ç›®æ ‡

é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œæ‚¨å°†å­¦ä¹ åˆ°ï¼š

1. **Goè¯­è¨€åŸºç¡€è¯­æ³•**
   - åŒ…ç®¡ç†å’Œæ¨¡å—ç³»ç»Ÿ
   - ç»“æ„ä½“å’Œæ¥å£
   - æ–¹æ³•å’Œå‡½æ•°
   - é”™è¯¯å¤„ç†
   - å¹¶å‘ç¼–ç¨‹ï¼ˆGoroutineå’ŒChannelï¼‰

2. **è½¯ä»¶æ¶æ„è®¾è®¡**
   - æ¨¡å—åŒ–è®¾è®¡
   - ä¾èµ–æ³¨å…¥
   - æ¥å£æŠ½è±¡
   - çŠ¶æ€ç®¡ç†
   - é…ç½®ç®¡ç†

3. **AIä»£ç†ç³»ç»Ÿ**
   - ä»»åŠ¡è§„åˆ’å’Œåˆ†è§£
   - LLMé›†æˆ
   - å·¥å…·è°ƒç”¨æœºåˆ¶
   - ç»“æœå¤„ç†æµç¨‹

## ğŸ“š å­¦ä¹ è·¯å¾„

### ç¬¬ä¸€é˜¶æ®µï¼šGoè¯­è¨€åŸºç¡€ (1-2å‘¨)

#### 1. åŸºç¡€è¯­æ³•
```bash
# æŸ¥çœ‹æ•°æ®æ¨¡å‹å®šä¹‰
cat internal/models/models.go
```

**å­¦ä¹ è¦ç‚¹ï¼š**
- `struct` ç»“æ„ä½“å®šä¹‰
- `json` æ ‡ç­¾çš„ä½¿ç”¨
- æŒ‡é’ˆå’Œå€¼ä¼ é€’
- æ„é€ å‡½æ•°æ¨¡å¼

#### 2. åŒ…å’Œæ¨¡å—
```bash
# æŸ¥çœ‹åŒ…ç»“æ„
tree internal/
```

**å­¦ä¹ è¦ç‚¹ï¼š**
- åŒ…çš„å‘½åè§„èŒƒ
- å¯¼å…¥å’Œå¯¼å‡ºè§„åˆ™
- `go.mod` æ–‡ä»¶ç®¡ç†
- ä¾èµ–ç®¡ç†

#### 3. æ¥å£å’Œæ–¹æ³•
```bash
# æŸ¥çœ‹æ¥å£å®šä¹‰
cat internal/llm/call_llm.go
```

**å­¦ä¹ è¦ç‚¹ï¼š**
- æ¥å£å®šä¹‰å’Œå®ç°
- æ–¹æ³•æ¥æ”¶å™¨
- å¤šæ€æ€§åº”ç”¨

### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒç»„ä»¶ç†è§£ (2-3å‘¨)

#### 1. é…ç½®ç®¡ç†
```bash
# è¿è¡Œé…ç½®ç¤ºä¾‹
go run cmd/main.go config
```

**æ–‡ä»¶ï¼š** `internal/config/config.go`

**å­¦ä¹ è¦ç‚¹ï¼š**
- ç»“æ„ä½“åµŒå¥—
- é»˜è®¤å€¼è®¾ç½®
- JSONåºåˆ—åŒ–/ååºåˆ—åŒ–
- é…ç½®éªŒè¯

#### 2. æ¶ˆæ¯ç®¡ç†
**æ–‡ä»¶ï¼š** `internal/messaging/message_manager.go`

**å­¦ä¹ è¦ç‚¹ï¼š**
- æ¶ˆæ¯æ„å»ºæ¨¡å¼
- å­—ç¬¦ä¸²å¤„ç†
- åˆ‡ç‰‡æ“ä½œ
- æ ¼å¼åŒ–è¾“å‡º

#### 3. çŠ¶æ€ç®¡ç†
**æ–‡ä»¶ï¼š** `internal/state/state_manager.go`

**å­¦ä¹ è¦ç‚¹ï¼š**
- æ–‡ä»¶I/Oæ“ä½œ
- çŠ¶æ€æŒä¹…åŒ–
- å¹¶å‘å®‰å…¨ï¼ˆmutexï¼‰
- é”™è¯¯å¤„ç†

### ç¬¬ä¸‰é˜¶æ®µï¼šé«˜çº§ç‰¹æ€§ (2-3å‘¨)

#### 1. ä»»åŠ¡è§„åˆ’
**æ–‡ä»¶ï¼š** `internal/planning/task_planner.go`

**å­¦ä¹ è¦ç‚¹ï¼š**
- å¤æ‚ä¸šåŠ¡é€»è¾‘
- JSONè§£æ
- ç®—æ³•å®ç°ï¼ˆå¾ªç¯ä¾èµ–æ£€æŸ¥ï¼‰
- çŠ¶æ€æœºæ¨¡å¼

#### 2. ä»»åŠ¡æ‰§è¡Œ
**æ–‡ä»¶ï¼š** `internal/execution/task_executor.go`

**å­¦ä¹ è¦ç‚¹ï¼š**
- å¹¶å‘æ‰§è¡Œï¼ˆGoroutineï¼‰
- åŒæ­¥æœºåˆ¶ï¼ˆWaitGroup, Mutexï¼‰
- å›è°ƒå‡½æ•°
- é”™è¯¯èšåˆ

#### 3. ä¸»æ§åˆ¶å™¨
**æ–‡ä»¶ï¼š** `internal/agent/dynagent.go`

**å­¦ä¹ è¦ç‚¹ï¼š**
- ç»„ä»¶åè°ƒ
- ç”Ÿå‘½å‘¨æœŸç®¡ç†
- å¤æ‚çŠ¶æ€æœº
- é”™è¯¯æ¢å¤

## ğŸ› ï¸ å®è·µç»ƒä¹ 

### ç»ƒä¹ 1ï¼šç®€å•ä½¿ç”¨
```bash
# è®¾ç½®APIå¯†é’¥
export OPENAI_API_KEY="your-api-key"

# è¿è¡Œç®€å•ç¤ºä¾‹
go run examples/simple_agent.go

# è¿è¡Œå·¥å…·ç¤ºä¾‹
go run examples/with_tools.go

# äº¤äº’æ¨¡å¼
go run cmd/main.go run
```

### ç»ƒä¹ 2ï¼šæ·»åŠ è‡ªå®šä¹‰å·¥å…·
åˆ›å»º `pkg/tools/my_tool.go`ï¼š

```go
package tools

import "fmt"

type MyTool struct {
    Name        string
    Description string
}

func NewMyTool() *MyTool {
    return &MyTool{
        Name:        "my_tool",
        Description: "æˆ‘çš„è‡ªå®šä¹‰å·¥å…·",
    }
}

func (mt *MyTool) Execute(input string) (string, error) {
    return fmt.Sprintf("å¤„ç†è¾“å…¥: %s", input), nil
}
```

### ç»ƒä¹ 3ï¼šæ‰©å±•åŠŸèƒ½
1. æ·»åŠ æ–°çš„æ¶ˆæ¯ç±»å‹
2. å®ç°è‡ªå®šä¹‰LLMæä¾›å•†
3. æ·»åŠ æ•°æ®åº“æŒä¹…åŒ–
4. å®ç°Web APIæ¥å£

## ğŸ”§ è°ƒè¯•æŠ€å·§

### 1. æŸ¥çœ‹æ—¥å¿—
```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
export GO_AGENT_DEBUG=true
go run cmd/main.go run
```

### 2. çŠ¶æ€æ£€æŸ¥
```bash
# æŸ¥çœ‹ä¿å­˜çš„çŠ¶æ€
ls -la ./data/save_agent/
cat ./data/save_agent/[agent-id]/config.json
```

### 3. æ€§èƒ½åˆ†æ
```go
import _ "net/http/pprof"

// åœ¨mainå‡½æ•°ä¸­æ·»åŠ 
go func() {
    log.Println(http.ListenAndServe("localhost:6060", nil))
}()
```

## ğŸš€ è¿›é˜¶é¡¹ç›®

å®ŒæˆåŸºç¡€å­¦ä¹ åï¼Œå¯ä»¥å°è¯•ï¼š

1. **Webç•Œé¢**ï¼šä½¿ç”¨Ginæ¡†æ¶åˆ›å»ºWeb API
2. **æ•°æ®åº“é›†æˆ**ï¼šæ·»åŠ PostgreSQLæˆ–MongoDBæ”¯æŒ
3. **å¾®æœåŠ¡æ¶æ„**ï¼šæ‹†åˆ†ä¸ºå¤šä¸ªæœåŠ¡
4. **å®¹å™¨åŒ–éƒ¨ç½²**ï¼šä½¿ç”¨Dockeréƒ¨ç½²
5. **ç›‘æ§ç³»ç»Ÿ**ï¼šæ·»åŠ Prometheusç›‘æ§
6. **æµ‹è¯•è¦†ç›–**ï¼šç¼–å†™å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

## ğŸ“– æ¨èèµ„æº

### Goè¯­è¨€å­¦ä¹ 
- [Goå®˜æ–¹æ•™ç¨‹](https://tour.golang.org/)
- [Effective Go](https://golang.org/doc/effective_go.html)
- [Go by Example](https://gobyexample.com/)

### æ¶æ„è®¾è®¡
- [Clean Architecture](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)
- [Hexagonal Architecture](https://alistair.cockburn.us/hexagonal-architecture/)

### AIä»£ç†ç³»ç»Ÿ
- [LangChainæ–‡æ¡£](https://docs.langchain.com/)
- [OpenAI APIæ–‡æ¡£](https://platform.openai.com/docs/)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Pull Requestï¼è¯·ç¡®ä¿ï¼š

1. éµå¾ªGoä»£ç è§„èŒƒ
2. æ·»åŠ é€‚å½“çš„æµ‹è¯•
3. æ›´æ–°ç›¸å…³æ–‡æ¡£
4. ä¿æŒå‘åå…¼å®¹æ€§

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹ç¤ºä¾‹ä»£ç 
2. é˜…è¯»é”™è¯¯ä¿¡æ¯
3. æ£€æŸ¥é…ç½®è®¾ç½®
4. æŸ¥çœ‹æ—¥å¿—è¾“å‡º

ç¥æ‚¨å­¦ä¹ æ„‰å¿«ï¼ğŸ‰
